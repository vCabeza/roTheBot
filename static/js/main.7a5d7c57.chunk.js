(this["webpackJsonpro-the-bot"]=this["webpackJsonpro-the-bot"]||[]).push([[0],{24:function(e){e.exports=JSON.parse('[{"id":0,"isCard":false,"text":"Hola! Soy Ro, el Bot","cardList":[]},{"id":1,"isCard":false,"text":"Pero mis amigos me llaman RoBot","cardList":[]},{"id":2,"isCard":false,"text":"Respuesta Aleatoria 1","cardList":[]},{"id":3,"isCard":false,"text":"Respuesta Aleatoria 2","cardList":[]},{"id":4,"isCard":false,"text":"Respuesta Aleatoria 3","cardList":[]},{"id":5,"isCard":false,"text":"Respuesta Aleatoria 4","cardList":[]},{"id":6,"isCard":false,"text":"Respuesta Aleatoria 5","cardList":[]},{"id":7,"isCard":false,"text":"Respuesta Aleatoria 6","cardList":[]},{"id":8,"isCard":false,"text":"Respuesta Aleatoria 7","cardList":[]},{"id":9,"isCard":false,"text":"Respuesta Aleatoria 8","cardList":[]},{"id":10,"isCard":false,"text":"Respuesta Aleatoria 9","cardList":[]},{"id":11,"isCard":false,"text":"Aqu\xed tienes las ultimas noticias: ","cardList":[]},{"id":12,"isCard":true,"text":"","cardList":[{"cardTitle":"Naciones Unidas y \u2018Catalina\u2019: ayudando m\xe1s all\xe1 de los s\xedntomas de COVID-19","cardText":"\xabCatalina\xbb es el nombre del chatbot que el Programa de las Naciones Unidas para el Desarrollo (PNUD) adjudic\xf3 a 1Millionbot... [\u2026]","cardImg":"https://ost.torrejuana.es/wp-content/uploads/2020/07/catalina-usuarios-1024x498.jpg","cardUrl":"https://ost.torrejuana.es/naciones-unidas-y-catalina-ayudando-mas-alla-de-los-sintomas-de-covid-19/","cardButton":"Ir a la noticia"},{"cardTitle":"La Universidad de Alcal\xe1 presenta un nuevo asistente virtual para su p\xe1gina web","cardText":"Su nombre es Isidra, en homenaje a M\xaa Isidra de Guzm\xe1n, conocida como la Doctora de Alcal\xe1, la primera mujer... [\u2026]","cardImg":"https://ost.torrejuana.es/wp-content/uploads/2020/07/isidra-universidad-alacala-de-henares-1024x644.png","cardUrl":"https://ost.torrejuana.es/la-universidad-de-alcala-presenta-un-nuevo-asistente-virtual/","cardButton":"Ir a la noticia"}]}]')},57:function(e,a,t){e.exports=t(71)},68:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"cleanChat",(function(){return L})),t.d(n,"sendMessage",(function(){return A})),t.d(n,"initialMessages",(function(){return H}));var s=t(0),r=t.n(s),i=t(8),c=t.n(i),o=t(21),l=t(12),d=t(47);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(67),t(68);var u=t(19),m=t(20),p=t(28),f=t(23),h=t(22),g=t(76),v=t(80),E=t(29),b=t(77),y=t(48),C=t(78),O=t(52),j=t(39),x=t(81),N=t(79),k=function(e){Object(f.a)(t,e);var a=Object(h.a)(t);function t(){return Object(u.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(x.a,{className:"message-recived message",style:{width:"18rem",height:"400px"}},r.a.createElement(N.a,{controls:!1},this.props.cardList.map((function(e,a){return r.a.createElement(N.a.Item,{key:a},e.cardImg?r.a.createElement(x.a.Img,{variant:"top",src:e.cardImg,style:{width:"100%"}}):null,r.a.createElement(x.a.Body,{style:{margin:"0 0 25px 0",heigth:"100px"}},r.a.createElement(x.a.Title,{style:{fontSize:"1rem"}},e.cardTitle),r.a.createElement(x.a.Text,{style:{fontSize:".60rem"}},e.cardText),e.cardUrl?r.a.createElement(y.a,{href:e.cardUrl,className:"yellow-button-card"},e.cardButton):null))}))))}}]),t}(s.Component),w=t(24);function _(e){var a=[];a.push(w.find((function(e){return 0===e.id}))),a.push(w.find((function(e){return 1===e.id}))),e({type:"send_message_success",payload:a})}var L=function(){return function(e){e({type:"clean_chat"})}},A=function(e){return function(a){if(a({type:"send_message",payload:e}),-1!==e.toUpperCase().indexOf("HOLA"))return _(a),null;if(-1!==e.toUpperCase().indexOf("NOTICIA")){var t=[];return t.push(w.find((function(e){return 11===e.id}))),t.push(w.find((function(e){return 12===e.id}))),a({type:"send_message_success",payload:t}),null}var n=Math.floor(10*Math.random()+2);a({type:"send_message_success",payload:[w.find((function(e){return e.id===n}))]})}},H=function(){return function(e){_(e)}},R=function(e){Object(f.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(u.a)(this,t),(n=a.call(this,e)).scrollToBottom=function(){n.messagesEnd.scrollIntoView()},n.onChangeHandler=function(e){var a=e.target.name,t=e.target.value;n.setState(Object(E.a)({},a,t))},n.sendMessage=function(e,a){""!==a&&n.props.sendMessage(a),n.setState({message:""}),e.preventDefault()},n.state={message:""},n}return Object(m.a)(t,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){var e=this,a=r.a.forwardRef((function(e,a){var t=e.children,n=e.onClick;return r.a.createElement("a",{className:"white",href:"",ref:a,onClick:function(e){e.preventDefault(),n(e)}},t)}));return r.a.createElement("div",{className:"chat-container"},r.a.createElement(v.a,{className:"header-container",sticky:"top",variant:"dark"},r.a.createElement(v.a.Brand,{onClick:function(){return e.props.chatVisibilityHandler()},href:"#"},r.a.createElement(j.c,{className:"align-bottom"})),r.a.createElement(v.a.Brand,null,r.a.createElement(g.a,{className:"header-image",fluid:!0,src:window.location.origin+"/ro-avatar.png",alt:"/ro-avatar.png"})," ",r.a.createElement("label",{className:"align-bottom"},"Ro")),r.a.createElement(v.a.Collapse,{className:"justify-content-end"},r.a.createElement(b.a,{alignRight:!0},r.a.createElement(b.a.Toggle,{as:a},r.a.createElement(j.a,{style:{height:"2em",width:"2em"}}),","),r.a.createElement(b.a.Menu,null,r.a.createElement(b.a.Item,{onClick:function(){return e.props.cleanChat()}},"Limpiar conversaci\xf3n"))))),r.a.createElement("div",{className:"messages-container"},this.props.bot.messages.map((function(e,a){return e.isCard?r.a.createElement(k,{key:a,cardList:e.cardList}):r.a.createElement("div",{key:a,className:e.sender?"message-sent message":"message-recived message"},r.a.createElement("div",{className:"conversation-message"},e.text))})),r.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(a){e.messagesEnd=a}})),r.a.createElement("div",{className:"footer-container"},r.a.createElement("div",{className:"recomendations-container"},r.a.createElement(y.a,{className:"yellow-button",variant:"outline-primary",onClick:function(a){return e.sendMessage(a,"Hola")}}," ","Hola"),r.a.createElement(y.a,{className:"yellow-button",variant:"outline-primary",onClick:function(a){return e.sendMessage(a,"Noticias")}}," ","Noticias")),r.a.createElement(C.a,{onSubmit:function(a){return e.sendMessage(a,e.state.message)}},r.a.createElement(C.a.Row,null,r.a.createElement(O.a,{style:{padding:"0px 0px 0px 5px"},xs:"10"},r.a.createElement(C.a.Control,{className:"form-input",type:"text",placeholder:"Escribe un mensaje...",name:"message",value:this.state.message,onChange:this.onChangeHandler,autoComplete:"off"})),r.a.createElement(O.a,{style:{padding:"0px"},xs:"2"},r.a.createElement("a",{href:"#",className:"send-button",onClick:function(a){return e.sendMessage(a,e.state.message)}},r.a.createElement(j.b,null)))))))}}]),t}(s.Component),S=Object(o.b)((function(e){return{bot:e.messages}}),n)(R),T=function(e){Object(f.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(u.a)(this,t),(n=a.call(this,e)).state={isChatHidden:!0,chatClicked:!1},n.chatVisibilityHandler=n.chatVisibilityHandler.bind(Object(p.a)(n)),n}return Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.initialMessages()}},{key:"chatVisibilityHandler",value:function(){this.setState({isChatHidden:!this.state.isChatHidden,chatClicked:!0})}},{key:"render",value:function(){var e=this,a=this.state.isChatHidden?r.a.createElement("div",{className:"mini"},this.state.chatClicked?null:r.a.createElement("a",{href:"#",className:"presentation-text",onClick:function(){return e.chatVisibilityHandler()}},r.a.createElement("div",{className:"message-sent message"},r.a.createElement("div",{className:"conversation-message"},"HOLA, SOY RO, \xbfNECESITAS AYUDA?"))),r.a.createElement("a",{href:"#",onClick:function(){return e.chatVisibilityHandler()}},r.a.createElement(g.a,{fluid:!0,src:window.location.origin+"/ro-avatar.png",alt:"/ro-avatar.png"}))):r.a.createElement(S,{chatVisibilityHandler:this.chatVisibilityHandler});return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"}),r.a.createElement(v.a,{className:"header-container",sticky:"top",variant:"dark"},r.a.createElement(v.a.Brand,null,"Ro The Bot")),a)}}]),t}(s.Component),I=Object(o.b)((function(e){return{bot:e.messages}}),n)(T),M=t(38),B=t(18),D={messages:[]},U=Object(l.c)({messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"send_message":return Object(B.a)(Object(B.a)({},e),{},{messages:[].concat(Object(M.a)(e.messages),[{text:a.payload,sender:!0}])});case"send_message_success":try{return Object(B.a)(Object(B.a)({},e),{},{messages:[].concat(Object(M.a)(e.messages),Object(M.a)(a.payload))})}catch(t){console.log(t)}break;case"clean_chat":try{return Object(B.a)(Object(B.a)({},e),{},{messages:[]})}catch(t){console.log(t)}break;default:return e}}}),V=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):l.d)(Object(l.a)(d.a)),P=Object(l.e)(U,{},V);c.a.render(r.a.createElement(o.a,{store:P},r.a.createElement(I,null)),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.7a5d7c57.chunk.js.map